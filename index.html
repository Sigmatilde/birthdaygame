<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Boss' Birthday Game</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      text-align: center;
      background: #fff0fb;
      margin: 0;
      padding: 20px;
    }

    #game-container {
      display: none;
    }

    .question {
      font-size: 24px;
      font-weight: bold;
      margin: 20px auto;
      padding: 20px;
      background: linear-gradient(145deg, #f9ccff, #ff7edd);
      color: #5a005a;
      width: 60%;
      border-radius: 30px;
    }

    .answer-button, .main-button {
      display: inline-block;
      width: 200px;
      margin: 10px;
      padding: 15px 20px;
      background: linear-gradient(145deg, #f7baff, #f472d0);
      color: #4d004d;
      font-size: 18px;
      font-weight: bold;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .answer-button:hover, .main-button:hover {
      transform: scale(1.05);
    }

    .feedback {
      font-size: 20px;
      font-weight: bold;
      margin-top: 15px;
      color: #5a005a;
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    ol {
      text-align: left;
      display: inline-block;
    }
  </style>
</head>
<body>

<h1>üéâ Boss' Birthday Celebration üéâ</h1>
<button class="main-button" onclick="startTrivia()">Play Trivia</button>
<a href="https://app.gather.town/invite?token=gtO21pgXTu2GSVgYHaoi" target="_blank">
  <button class="main-button">Explore the City üèôÔ∏è</button>
</a>

<div id="game-container"></div>

<script>
const triviaData = [
  { question: "What is Alice's favorite color?", choices: ["Red", "Blue", "Green", "Purple"], answer: "Blue" },
  { question: "Which city does Bob live in?", choices: ["Rome", "Milan", "Florence", "Venice"], answer: "Milan" },
  { question: "What's Charlie's favorite food?", choices: ["Pizza", "Sushi", "Burger", "Tacos"], answer: "Sushi" },
  { question: "What instrument does Dana play?", choices: ["Guitar", "Piano", "Violin", "Drums"], answer: "Piano" },
  { question: "Where did Eva go to college?", choices: ["Harvard", "MIT", "Stanford", "Oxford"], answer: "Stanford" },
  { question: "What is Frank's hobby?", choices: ["Cooking", "Gaming", "Dancing", "Photography"], answer: "Gaming" }
];

let triviaPlayer = "";
let allScores = JSON.parse(localStorage.getItem("triviaScores") || "[]");

function startTrivia() {
  triviaPlayer = prompt("Enter your name:");
  if (!triviaPlayer) return;

  const container = document.getElementById("game-container");
  container.innerHTML = "";
  container.style.display = "block";

  const questions = [...triviaData].sort(() => 0.5 - Math.random()).slice(0, 6);
  let current = 0;
  let score = 0;

  function showQuestion() {
    container.innerHTML = `<div class='question'>${questions[current].question}</div>`;
    const answersDiv = document.createElement("div");
    const feedbackDiv = document.createElement("div");
    feedbackDiv.className = "feedback";
    container.appendChild(answersDiv);
    container.appendChild(feedbackDiv);

    questions[current].choices.forEach(choice => {
      const btn = document.createElement("button");
      btn.className = "answer-button";
      btn.textContent = choice;
      btn.onclick = () => {
        const correct = choice === questions[current].answer;
        feedbackDiv.textContent = correct ? "Correct! üéâ" : "Wrong! ‚ùå";
        if (correct) score++;
        Array.from(answersDiv.children).forEach(b => b.disabled = true);
        setTimeout(() => {
          current++;
          if (current < questions.length) showQuestion();
          else showScore();
        }, 1000);
      };
      answersDiv.appendChild(btn);
    });
  }

  function showScore() {
    allScores.push({ name: triviaPlayer, score: score });
    localStorage.setItem("triviaScores", JSON.stringify(allScores));

    container.innerHTML = `<h2>${triviaPlayer}, your score: ${score}/6</h2><h3>Leaderboard:</h3>`;

    const list = document.createElement("ol");
    allScores.sort((a, b) => b.score - a.score).forEach(entry => {
      const item = document.createElement("li");
      item.textContent = `${entry.name}: ${entry.score}`;
      list.appendChild(item);
    });
    container.appendChild(list);

    const retry = document.createElement("button");
    retry.textContent = "Play Again";
    retry.className = "answer-button";
    retry.onclick = startTrivia;
    container.appendChild(retry);
  }

  showQuestion();
}
</script>

</body>
</html>
